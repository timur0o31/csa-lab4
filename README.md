# Альметов Тимур Айдарович, P3207
- Вариант:  forth | stack | harv | hw | tick | binary | trap | port | cstr | prob2 | superscalar
## Содержание
1. [Язык программирования](#язык-программирования)
2. [Организация памяти](#организация-памяти)
3. [Система команд](#система-команд)
4. [Транслятор](#транслятор)
5. [Модель процессора](#модель-процессора)
6. [Тестирование](#тестирование)

## Язык программирования
Описание синтаксиса языка в стиле БНФ:
```ebnf
<programm> ::= <instruction_line>*
<instruction_line> ::= <label>
                     | <instruction> "\n"
                     | "\n"
                     | <const_declaration> "\n"
<label> ::= <label_name> ":"
<label_name> ::= [a-zA-Z_][a-zA-Z0-9_]*
<const_declaration> ::= "const" <label_name> <number> 
<instruction> ::= <op0>
                | <op1> " " <literal>
<op0> ::= "nop"
       | "@"
       | "!"
       | "+"
       | "-"
       | "*"
       | "div"
       | "inc"
       | "dec"
       | "drop"
       | "dup"
       | "and"
       | "swap"
       | "xor"
       | "not"
       | "jump"
       | "call"
       | "jz"
       | "jn"
       | "ret"
       | "in"
       | "out"
       | "halt"

<op1> ::= "lit"
<literal> ::= <number>
<number> ::= "-"? <digit>+  
<digit> ::= [0-9]

<comment> ::= ";" <characters>
<characters> ::= .*                      
                  

```
### Семантика 
Код выполняется последовательно одна инструкция за другой.

Пример программы:
```ebnf

```
Язык поддерживает всего 5 типов данных:
1. int8
2. int16
3. int32
4. str(alias int8[])
5. bool
Отдельные символы строки имеют тип целого числа.
Поддерживаются строковые литералы произвольной длины. В конце строки ставится символ-ноль \0, в соответствии с вариантом.
Область видимости переменных - глобальные.
## Организация памяти
- Система построена по Гарвардской архитектуре, то есть есть разделение команд и данных. Поэтому в памяти для данных хранятся статические строки и переменные. В памяти для команд хранятся инструкции для выполнения.
- Операция записи в память перезапишет ячейку памяти как ячейку с данными. Программист имеет доступ на чтение/запись в любую ячейку памяти.
- Литералы - знаковые 32-разрядные числа.
- Виды адресации:
  - Прямая абсолютная 
-
### Регистры
Используются следующие регистры:
- stack - 
- A
- rstack
- S1 -
- S2 -
- PC - указатель н
- PC_BUF -
- INT_RQ -
- INT_ADDR -
- INT_EN -
## Система команд
### Особенности процессора:
- Обработка данных осуществляется в стеке. Данные попадают в стек из памяти, либо из устройств ввода/вывода.
### Набор инструкций:
- `nop` - нет операции.
- `lit <literal>` - положить значение на вершину стека.
- `@` - загрузить из памяти значение по адресу с вершины стека.
- `!` - положить второе значение с вершины стека в память по указанному адресу, который лежит на вершине стека. 
- `+` - положить на стек результат операции сложения двух верхних значений с вершины стека.
- `-` - положить на стек результат операции вычитания двух верхних значений с вершины стека.
- `*` - положить на стек результат операции умножения двух верхних значений с вершины стека.
- `div` - положить на стек результат операции деления двух верхних значений с вершины стека.
- `inc` - положить на стек результат операции инкремнтирования на 1 значения вершины стека.
- `dec` - положить на стек результат операции декрементирования на 1 значения вершины стека.
- `drop` - удалить элемент из стека.
- `dup` - дублировать элемент на стеке.
- `and` -
- `swap` -
- `xor` -
- `not` -
- `jump` -
- `call` -
- `jz` -
- `jn` -
- `ret` -
- `in` -
- `out` -
- `halt` -
## Транслятор

## Модель процессора

## Тестирование
